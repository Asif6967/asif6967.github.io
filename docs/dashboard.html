<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Super Pro Panel | Asif Tech Global</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        /* --- THEME VARIABLES --- */
        :root {
            --bg-dark: #0f172a;       /* Deep Navy */
            --bg-card: #1e293b;       /* Lighter Navy */
            --accent-blue: #38bdf8;   /* Neon Blue */
            --accent-gold: #ff9900;   /* Amazon Gold */
            --text-main: #f8fafc;
            --text-muted: #94a3b8;
        }

        /* --- GLOBAL STYLES --- */
        body { margin: 0; font-family: 'Segoe UI', sans-serif; background: var(--bg-dark); color: var(--text-main); overflow-x: hidden; }
        * { box-sizing: border-box; }

        /* --- LOGIN OVERLAY --- */
        #login-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(15, 23, 42, 0.98); display: flex; justify-content: center; align-items: center; z-index: 9999;
        }
        .login-box { 
            background: var(--bg-card); padding: 40px; border-radius: 15px; text-align: center; width: 320px; 
            border: 1px solid var(--accent-blue); box-shadow: 0 0 20px rgba(56, 189, 248, 0.2);
        }
        .login-box h2 { color: var(--accent-gold); margin-bottom: 20px; }
        .login-box input { 
            width: 100%; padding: 12px; margin: 10px 0; border-radius: 5px; border: 1px solid #334155; 
            background: #0f172a; color: white; outline: none;
        }
        .login-box button { 
            width: 100%; padding: 12px; background: var(--accent-blue); color: #000; font-weight: bold; 
            border: none; border-radius: 5px; cursor: pointer; margin-top: 10px; transition: 0.3s;
        }
        .login-box button:hover { background: #fff; }

        /* --- SIDEBAR --- */
        .sidebar {
            width: 260px; height: 100vh; background: #0b1120; position: fixed; top: 0; left: 0;
            border-right: 1px solid #334155; padding-top: 20px; display: flex; flex-direction: column;
        }
        .brand { text-align: center; font-size: 22px; font-weight: bold; color: white; margin-bottom: 40px; }
        .brand span { color: var(--accent-gold); }
        
        .nav-btn {
            background: none; border: none; color: var(--text-muted); padding: 15px 25px; text-align: left;
            font-size: 16px; cursor: pointer; transition: 0.3s; width: 100%; display: flex; align-items: center; gap: 15px;
        }
        .nav-btn:hover, .nav-btn.active { background: var(--bg-card); color: var(--accent-blue); border-left: 4px solid var(--accent-blue); }
        .nav-btn i { width: 20px; }

        /* --- MAIN CONTENT --- */
        .main-content { margin-left: 260px; padding: 30px; }
        .section-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; }
        .section-header h2 { margin: 0; color: var(--accent-blue); }

        /* --- CARDS & GRID --- */
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 25px; }
        
        .card {
            background: var(--bg-card); padding: 25px; border-radius: 12px; 
            box-shadow: 0 4px 6px rgba(0,0,0,0.3); border-top: 4px solid var(--accent-gold);
        }
        .card h3 { margin: 0 0 15px 0; font-size: 16px; color: var(--text-muted); }
        .card .big-num { font-size: 32px; font-weight: bold; color: white; margin: 0; }
        
        .card-blue { border-top-color: var(--accent-blue); }
        .card-green { border-top-color: #4ade80; }
        .card-red { border-top-color: #f87171; }

        /* --- FORMS & INPUTS --- */
        .input-group { margin-bottom: 15px; }
        input[type="number"], input[type="text"] {
            width: 100%; padding: 10px; background: #0f172a; border: 1px solid #334155; 
            color: white; border-radius: 5px; outline: none;
        }
        .btn-action {
            padding: 10px 20px; border: none; border-radius: 5px; font-weight: bold; cursor: pointer; transition: 0.3s;
        }
        .btn-blue { background: var(--accent-blue); color: #000; }
        .btn-gold { background: var(--accent-gold); color: #000; }
        .btn-outline { border: 1px solid var(--text-muted); background: transparent; color: white; }
        .btn-action:hover { opacity: 0.8; transform: translateY(-2px); }

        /* --- TABLES --- */
        table { width: 100%; border-collapse: collapse; margin-top: 15px; background: #0f172a; border-radius: 8px; overflow: hidden; }
        th { background: #334155; color: var(--accent-blue); padding: 12px; text-align: left; }
        td { padding: 12px; border-bottom: 1px solid #1e293b; font-size: 14px; }

        /* --- UTILS --- */
        .hidden-section { display: none; }
        .chart-box { height: 300px; position: relative; }

        @media (max-width: 768px) {
            .sidebar { width: 70px; }
            .sidebar .brand, .sidebar span, .nav-btn span { display: none; }
            .nav-btn { justify-content: center; padding: 20px 0; }
            .main-content { margin-left: 70px; padding: 15px; }
            .login-box { width: 90%; }
        }
    </style>
</head>
<body>

    <div id="login-screen">
        <div class="login-box">
            <h2><i class="fas fa-shield-alt"></i> SYSTEM LOCKED</h2>
            <p style="color:#aaa; font-size:14px;">Enter Authorized Key to Access</p>
            <input type="password" id="password" placeholder="Passkey (asif786)">
            <button onclick="checkLogin()">UNLOCK PANEL</button>
            <p id="error-msg" style="color:#f87171; font-size:12px; margin-top:10px; display:none;">ACCESS DENIED</p>
        </div>
    </div>

    <div id="app-interface" style="display:none;">
        
        <div class="sidebar">
            <div class="brand">ASIF <span>TECH</span></div>
            <button class="nav-btn active" onclick="showSection('overview', this)">
                <i class="fas fa-chart-line"></i> <span>Overview</span>
            </button>
            <button class="nav-btn" onclick="showSection('finance', this)">
                <i class="fas fa-calculator"></i> <span>Finance Tools</span>
            </button>
            <button class="nav-btn" onclick="showSection('assets', this)">
                <i class="fas fa-building"></i> <span>Asset Manager</span>
            </button>
            <div style="flex-grow:1;"></div>
            <button class="nav-btn" onclick="location.reload()">
                <i class="fas fa-sign-out-alt"></i> <span>Logout</span>
            </button>
        </div>

        <div class="main-content">
            
            <div id="overview" class="content-section">
                <div class="section-header">
                    <h2>Dashboard Overview</h2>
                    <span style="color:#aaa;">Real-time Business Metrics</span>
                </div>
                
                <div class="grid">
                    <div class="card card-blue">
                        <h3><i class="fas fa-users"></i> Total Visitors</h3>
                        <p class="big-num">1,250</p>
                    </div>
                    <div class="card card-gold">
                        <h3><i class="fab fa-amazon"></i> Amazon Clicks</h3>
                        <p class="big-num">85</p>
                    </div>
                    <div class="card card-green">
                        <h3><i class="fas fa-rupee-sign"></i> Est. Commission</h3>
                        <p class="big-num">₹450.00</p>
                    </div>
                    <div class="card card-red">
                        <h3><i class="fas fa-book"></i> Books Sold</h3>
                        <p class="big-num">12</p>
                    </div>
                </div>

                <div class="grid" style="margin-top:25px; grid-template-columns: 2fr 1fr;">
                    <div class="card">
                        <h3>Traffic Analysis</h3>
                        <div class="chart-box"><canvas id="trafficChart"></canvas></div>
                    </div>
                    <div class="card">
                        <h3>Sales Distribution</h3>
                        <div class="chart-box"><canvas id="salesChart"></canvas></div>
                    </div>
                </div>
            </div>

            <div id="finance" class="content-section hidden-section">
                <div class="section-header">
                    <h2>Financial Tools</h2>
                    <span style="color:#aaa;">Profit & Loss Calculator</span>
                </div>

                <div class="grid">
                    <div class="card">
                        <h3>Profit Margin Calculator</h3>
                        <div class="input-group">
                            <label style="font-size:12px; color:#aaa;">Total Monthly Revenue (₹)</label>
                            <input type="number" id="rev" placeholder="e.g. 50000">
                        </div>
                        <div class="input-group">
                            <label style="font-size:12px; color:#aaa;">Total Expenses (₹)</label>
                            <input type="number" id="exp" placeholder="e.g. 20000">
                        </div>
                        <button class="btn-action btn-gold" style="width:100%;" onclick="calcProfit()">Calculate Health</button>
                        <div id="profitResult" style="margin-top:15px;"></div>
                    </div>

                    <div class="card" style="grid-column: span 2;">
                        <h3>Revenue Trend Analysis</h3>
                        <div class="chart-box"><canvas id="revChart"></canvas></div>
                    </div>
                </div>
            </div>

            <div id="assets" class="content-section hidden-section">
                <div class="section-header">
                    <h2>Asset Management</h2>
                    <span style="color:#aaa;">Depreciation Scheduler (SLM/WDV)</span>
                </div>

                <div class="card">
                    <div class="grid" style="grid-template-columns: repeat(3, 1fr); gap:10px;">
                        <input type="number" id="aC" placeholder="Asset Cost (₹)">
                        <input type="number" id="sV" placeholder="Scrap Value (₹)">
                        <input type="number" id="dR" placeholder="Depreciation Rate (%)">
                    </div>
                    <div style="margin-top:15px; display:flex; gap:10px;">
                        <button class="btn-action btn-blue" onclick="doDep('SLM')">Calculate SLM</button>
                        <button class="btn-action btn-outline" onclick="doDep('WDV')">Calculate WDV</button>
                        <button class="btn-action btn-gold" onclick="window.print()"><i class="fas fa-print"></i> Report</button>
                    </div>
                    <div id="dTab" style="margin-top:20px;"></div>
                </div>
            </div>

        </div>
    </div>

    <script>
        // 1. LOGIN SYSTEM
        function checkLogin() {
            const p = document.getElementById('password').value;
            if(p === 'asif786') {
                document.getElementById('login-screen').style.display = 'none';
                document.getElementById('app-interface').style.display = 'block';
                initCharts(); // Charts load only after login
            } else {
                document.getElementById('error-msg').style.display = 'block';
            }
        }

        // 2. NAVIGATION
        function showSection(id, btn) {
            // Hide all sections
            document.querySelectorAll('.content-section').forEach(el => el.classList.add('hidden-section'));
            // Show selected
            document.getElementById(id).classList.remove('hidden-section');
            
            // Update Active Button state
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
        }

        // 3. CHARTS INITIALIZATION
        let revChartInstance = null;

        function initCharts() {
            // Traffic Chart (Overview)
            new Chart(document.getElementById('trafficChart'), {
                type: 'line',
                data: {
                    labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                    datasets: [{
                        label: 'Visitors', data: [120, 190, 300, 500, 200, 300, 450],
                        borderColor: '#38bdf8', backgroundColor: 'rgba(56, 189, 248, 0.1)', fill: true, tension: 0.4
                    }]
                },
                options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } } }
            });

            // Sales Chart (Overview)
            new Chart(document.getElementById('salesChart'), {
                type: 'doughnut',
                data: {
                    labels: ['Books', 'Electronics', 'Courses'],
                    datasets: [{
                        data: [70, 20, 10], backgroundColor: ['#ff9900', '#38bdf8', '#94a3b8'], borderWidth: 0
                    }]
                },
                options: { responsive: true, maintainAspectRatio: false }
            });

            // Revenue Chart (Finance - Empty Initially)
            const ctxRev = document.getElementById('revChart').getContext('2d');
            revChartInstance = new Chart(ctxRev, {
                type: 'bar',
                data: { labels: [], datasets: [] },
                options: { responsive: true, maintainAspectRatio: false }
            });
        }

        // 4. FINANCIAL CALCULATORS
        function calcProfit() {
            let r = parseFloat(document.getElementById('rev').value) || 0;
            let e = parseFloat(document.getElementById('exp').value) || 0;
            let p = r - e;
            let m = r > 0 ? (p / r) * 100 : 0;

            // Update Result HTML
            let color = p >= 0 ? '#4ade80' : '#f87171';
            document.getElementById('profitResult').innerHTML = `
                <div style="background:#0f172a; padding:15px; border-left:4px solid ${color}; border-radius:5px;">
                    <div style="font-size:18px; color:${color}; font-weight:bold;">Net Profit: ₹${p.toLocaleString()}</div>
                    <div style="font-size:14px; color:#aaa;">Margin: ${m.toFixed(2)}%</div>
                </div>`;

            // Update Finance Chart
            revChartInstance.data.labels = ['Revenue', 'Expenses', 'Profit'];
            revChartInstance.data.datasets = [{
                label: 'Financial Flow',
                data: [r, e, p],
                backgroundColor: ['#38bdf8', '#ef4444', '#22c55e']
            }];
            revChartInstance.update();
        }

        // 5. DEPRECIATION CALCULATOR
        function doDep(method) {
            let c = parseFloat(document.getElementById('aC').value) || 0;
            let s = parseFloat(document.getElementById('sV').value) || 0;
            let r = (parseFloat(document.getElementById('dR').value) || 0) / 100;

            if (c <= 0) { alert("Please enter valid Asset Cost"); return; }

            let html = `<table><tr><th>Year</th><th>Opening Value</th><th>Depreciation</th><th>Closing Value</th></tr>`;
            let val = c;

            for(let i=1; i<=5; i++) {
                let dep = (method === 'SLM') ? ((c-s)*r) : (val*r);
                let close = val - dep;
                if(close < s) close = s; // Don't go below scrap value

                html += `<tr>
                            <td>Year ${i}</td>
                            <td>₹${val.toFixed(0)}</td>
                            <td style="color:#f87171">- ₹${dep.toFixed(0)}</td>
                            <td style="color:#4ade80">₹${close.toFixed(0)}</td>
                         </tr>`;
                
                val = close;
                if(val <= s) break;
            }
            html += `</table>`;
            document.getElementById('dTab').innerHTML = html;
        }
    </script>
</body>
</html>